local jeHubModule = {}
local MPS = game:GetService("MarketplaceService")

function jeHubModule.gameStatus()
	local update = string.sub(MPS:GetProductInfo(game.PlaceId).Updated, 1,10)
	local imageUrl = 'rbxassetid://' .. 
		MPS:GetProductInfo(game:GetService("AssetService"):GetGamePlacesAsync():GetCurrentPage()[1].PlaceId).IconImageAssetId
	local gameName = MPS:GetProductInfo(game.PlaceId).Name
	return imageUrl, gameName, update
end

function jeHubModule.Notify()
	for _,v in pairs(game:GetService("CoreGui"):GetChildren()) do
		if v:FindFirstChild('Frame') then
			v:Remove()
		end
	end
	local imageUrl = jeHubModule.gameStatus()
	local _8SX23as = Instance.new("ScreenGui")
	local Frame = Instance.new("Frame")
	local UICorner = Instance.new("UICorner")
	local GameIcon = Instance.new("ImageLabel")
	local Notification = Instance.new("TextLabel")
	local UITextSizeConstraint = Instance.new("UITextSizeConstraint")
	_8SX23as.Name = tostring(math.random(1,9999999))
	_8SX23as.Parent = game:GetService('CoreGui')
	_8SX23as.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	Frame.Parent = _8SX23as
	Frame.BackgroundColor3 = Color3.fromRGB(24, 24, 24)
	Frame.Position = UDim2.new(0.86, 0, 0.87, 0)
	Frame.Size = UDim2.new(0, 236, 0, 100)
	UICorner.Parent = Frame
	GameIcon.Name = "GameIcon"
	GameIcon.Parent = Frame
	GameIcon.Active = true
	GameIcon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	GameIcon.Position = UDim2.new(0, 20, 0, 20)
	GameIcon.Size = UDim2.new(0, 60, 0, 60)
	GameIcon.ZIndex = 9
	GameIcon.Image = imageUrl
	Notification.Name = "Notification"
	Notification.Parent = Frame
	Notification.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Notification.BackgroundTransparency = 1.000
	Notification.Position = UDim2.new(0.444915235, 0, 0.25, 0)
	Notification.Size = UDim2.new(0, 112, 0, 50)
	Notification.Font = Enum.Font.SourceSans
	Notification.Text = "Loading JeHub"
	Notification.TextColor3 = Color3.fromRGB(236, 236, 236)
	Notification.TextSize = 14.000
	UITextSizeConstraint.Parent = Notification
	UITextSizeConstraint.MinTextSize = 25
	return true
end

function jeHubModule.TextToLocal(text, name)
	local blacklisted = {' ','~','`','!','@','#','$','%','^','&','*','(',')','-','=','+',';',':',',','.','<','>','/', ''}
	local txt = ''
	for i=1, #name do
		local format = string.sub(name, i,i)
		for i,v in pairs(blacklisted) do
			if format == v then
				format = '_'
			end
		end
		txt = txt .. format
	end
	local TTL = 'local ' .. txt .. ' = ' .. text
	return TTL, txt
end

function jeHubModule.TextToTable(text, space, checkSpace)
	local txt = [[{]]
	local letter2 = ''
	if space then
		letter2 = ' '
	end
	text = tostring(text)
	for i=1, #text do
		local function write(letter)
			if i ~= #text then
				txt = txt .. [[']] .. letter .. [[']] .. [[,]] .. letter2
			else
				txt = txt .. [[']] .. letter .. [[']]
			end
		end
		local letter = string.sub(text, i,i)
		if checkSpace then
			if letter ~= ' ' then
				write(letter)
			end
		else
			write(letter)
		end
	end
	txt = txt .. [[}]]
	return txt
end

return jeHubModule
